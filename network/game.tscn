[gd_scene load_steps=14 format=3 uid="uid://dj2n8v21gdh6h"]

[ext_resource type="Script" uid="uid://b7et2owwqcavt" path="res://network/game.gd" id="1_xq7h3"]
[ext_resource type="Texture2D" uid="uid://d3w4qqsvaf4u1" path="res://icon.svg" id="2_7jqyu"]
[ext_resource type="Script" uid="uid://b2cqirrgxnia0" path="res://network/leaderboard.gd" id="2_x2u1n"]
[ext_resource type="PackedScene" uid="uid://8cwch246pjap" path="res://courses/course.tscn" id="3_x2u1n"]
[ext_resource type="AudioStream" uid="uid://c1oip7c5bvhri" path="res://soundings/ncs.ogg" id="4_o0ovv"]
[ext_resource type="Script" uid="uid://dwei0uyaahtrf" path="res://network/finish.gd" id="5_7jqyu"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_3h60y"]

[sub_resource type="Sky" id="Sky_muvif"]
sky_material = SubResource("ProceduralSkyMaterial_3h60y")

[sub_resource type="Environment" id="Environment_oer4l"]
background_mode = 2
sky = SubResource("Sky_muvif")
tonemap_mode = 3
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cr5wk"]
albedo_texture = ExtResource("2_7jqyu")

[sub_resource type="PlaneMesh" id="PlaneMesh_nv5yk"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_bhcde"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="BoxShape3D" id="BoxShape3D_xq7h3"]
size = Vector3(107.107, 16.3459, 99.6523)

[node name="Game" type="Node3D"]
script = ExtResource("1_xq7h3")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
offset_right = 1152.0
offset_bottom = 648.0
theme_override_constants/margin_left = 200
theme_override_constants/margin_top = 100
theme_override_constants/margin_right = 200
theme_override_constants/margin_bottom = 100

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/MarginContainer"]
layout_mode = 2
script = ExtResource("2_x2u1n")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/MarginContainer/PanelContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="CanvasLayer/MarginContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Leaderboard"
horizontal_alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/MarginContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="Name" type="VBoxContainer" parent="CanvasLayer/MarginContainer/PanelContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Laps" type="VBoxContainer" parent="CanvasLayer/MarginContainer/PanelContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Rounds Won" type="VBoxContainer" parent="CanvasLayer/MarginContainer/PanelContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Host?" type="VBoxContainer" parent="CanvasLayer/MarginContainer/PanelContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="DirectionalLight3d" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_oer4l")

[node name="MeshInstance3d" type="MeshInstance3D" parent="."]
transform = Transform3D(17.8783, 0, 0, 0, 1, 0, 0, 0, 18.1381, 0, -4.41612, 0)
material_override = SubResource("StandardMaterial3D_cr5wk")
mesh = SubResource("PlaneMesh_nv5yk")

[node name="StaticBody3d" type="StaticBody3D" parent="MeshInstance3d"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3d" type="CollisionShape3D" parent="MeshInstance3d/StaticBody3d"]
shape = SubResource("ConcavePolygonShape3D_bhcde")

[node name="Course" parent="." instance=ExtResource("3_x2u1n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -30.0531, 55.1759)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("4_o0ovv")

[node name="Finish" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 784.318, -24.2263, 47.1436)
use_collision = true
collision_layer = 2
collision_mask = 0
size = Vector3(108.723, 3.01074, 99.9717)

[node name="Area3D" type="Area3D" parent="Finish"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.69209, 0)
collision_layer = 0
collision_mask = 4
script = ExtResource("5_7jqyu")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Finish/Area3D"]
shape = SubResource("BoxShape3D_xq7h3")
